<div id="register" class="inner-scroll" fxLayout="row" fxLayoutAlign="start">

  <div id="register-intro" fxFlex fxHide fxShow.gt-xs>

    <div class="logo" [@animate]="{value:'*',params:{scale:'0.2'}}">
        <img src="assets/images/logos/logo_main.png">
    </div>

    <div class="title" [@animate]="{value:'*',params:{delay:'50ms',y:'25px'}}">
        Welcome to the Megarender!
    </div>

    <div class="description" [@animate]="{value:'*',params:{delay:'100ms',y:'25px'}}">
        We take care of the routine - letting you create!
    </div>

  </div>

  <div id="register-form-wrapper" fusePerfectScrollbar [@animate]="{value:'*',params:{delay:'300ms',x:'100%'}}">

    <div id="register-form">

      <div class="logo" fxHide.gt-xs>
        <img src="assets/images/logos/logo_main.png">
      </div>

      <div class="title">SIGN UP</div>

      <form name="registerForm" [formGroup]="registerForm" (ngSubmit)="nextStep()" novalidate *ngIf="step==1">

        <mat-form-field appearance="outline">
          <mat-label>First name</mat-label>
          <input matInput formControlName="userFirstName">
          <mat-icon matSuffix class="secondary-text">account_circle</mat-icon>
          <mat-error>
            Name is required
          </mat-error>
        </mat-form-field>

        <mat-form-field appearance="outline">
          <mat-label>Second name</mat-label>
          <input matInput formControlName="userSecondName">
          <mat-icon matSuffix class="secondary-text">account_circle</mat-icon>
          <mat-error>
            Second name is required
          </mat-error>
        </mat-form-field>

        <mat-form-field appearance="outline">
          <mat-label>Last name</mat-label>
          <input matInput formControlName="userLastName">
          <mat-icon matSuffix class="secondary-text">account_circle</mat-icon>
          <mat-error>
            Last name is required
          </mat-error>
        </mat-form-field>

        <mat-form-field appearance="outline">
          <mat-label>Phone</mat-label>
          <input matInput formControlName="userPhone">
          <mat-icon matSuffix class="secondary-text">phone</mat-icon>
          <mat-error *ngIf="registerForm.get('userPhone').hasError('required')">
            Phone is required
          </mat-error>
          <mat-error *ngIf="registerForm.get('userPhone').hasError('userPhone')">
            Please enter a valid phone number
          </mat-error>
        </mat-form-field>

        <mat-form-field appearance="outline">
          <mat-label>Email</mat-label>
          <input matInput formControlName="userEmail">
          <mat-icon matSuffix class="secondary-text">mail</mat-icon>
          <mat-error *ngIf="registerForm.get('userEmail').hasError('required')">
            Email is required
          </mat-error>
          <mat-error *ngIf="registerForm.get('userEmail').hasError('userEmail')">
            Please enter a valid email address
          </mat-error>
        </mat-form-field>

        <mat-form-field appearance="outline">
          <mat-label>Birthdate</mat-label>
          <input matInput [matDatepicker]="birthdayDatePicker" name="birthday" formControlName="userBirthdate">
          <mat-datepicker-toggle matSuffix [for]="birthdayDatePicker"></mat-datepicker-toggle>
          <mat-datepicker #birthdayDatePicker></mat-datepicker>
          <mat-error *ngIf="registerForm.get('userBirthdate').hasError('required')">
            Birthdate is required
          </mat-error>
        </mat-form-field>

        <mat-form-field appearance="outline">
          <mat-label>Password</mat-label>
          <input matInput type="password" formControlName="userPassword">
          <mat-icon matSuffix class="secondary-text">vpn_key</mat-icon>
          <mat-error>
            Password is required
          </mat-error>
        </mat-form-field>

        <mat-form-field appearance="outline">
          <mat-label>Password (Confirm)</mat-label>
          <input matInput type="password" formControlName="userPasswordConfirm">
          <mat-icon matSuffix class="secondary-text">vpn_key</mat-icon>
          <mat-error *ngIf="registerForm.get('userPasswordConfirm').hasError('required')">
            Password confirmation is required
          </mat-error>
          <mat-error *ngIf="!registerForm.get('userPasswordConfirm').hasError('required') &&
                                     registerForm.get('userPasswordConfirm').hasError('passwordsNotMatching')">
            Passwords must match
          </mat-error>
        </mat-form-field>

        <div class="terms" fxLayout="row" fxLayoutAlign="center center">
          <mat-checkbox name="terms" aria-label="Accept" required>
            <span>Accept</span>
          </mat-checkbox>
          <a href="#">terms and conditions</a>
        </div>

        <button mat-raised-button color="accent" class="submit-button" aria-label="SIGN UP" type="submit"
          [disabled]="registerForm.invalid">
          SIGN UP
        </button>

      </form>

      <form name="codeForm" [formGroup]="codeForm" (ngSubmit)="signup()" novalidate *ngIf="step==2">
        <mat-form-field appearance="outline">
          <mat-label>Code</mat-label>
          <input matInput type="password" formControlName="userCode">
          <mat-icon matSuffix class="secondary-text">vpn_key</mat-icon>
          <mat-error>
            Code is required
          </mat-error>
        </mat-form-field>

        <button mat-raised-button color="accent" class="submit-button" aria-label="ENTER CODE" type="submit"
          [disabled]="codeForm.invalid">
          SIGN UP
        </button>
      </form>

      <div class="separator">
        <span class="text">OR</span>
      </div>

      <div fxLayout="column" fxLayoutAlign="start center">

        <button mat-raised-button color="accent" (click)="signin()">
          SIGN IN
        </button>
      </div>
    </div>
  </div>
</div>
